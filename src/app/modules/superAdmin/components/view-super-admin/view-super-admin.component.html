<div class="dataset-page-wrapper">
  <div class="dataset-content-container">
    <!-- Header Section -->
    <div class="page-header-section">
      <div class="header-content">
        <div class="flex align-items-center gap-2 mb-2">
          <button pButton class="p-button-text p-button-plain back-button" routerLink="/app/super-admin">
            <i class="pi pi-arrow-left text-xl"></i>
          </button>
          <h2 class="m-0">Super Admin Details</h2>
        </div>
      </div>

      <div class="header-actions flex gap-2">
        <button class="btn-secondary" (click)="openChangePasswordDialog()">
          <i class="pi pi-key"></i>
          Change Password
        </button>
        <button class="btn-primary" [disabled]="adminId == loggedInUserId"
          [routerLink]="['/app/super-admin/edit', adminId]">
          <i class="pi pi-pencil"></i>
          Edit
        </button>
        <button class="btn-danger" [disabled]="adminId == loggedInUserId" (click)="confirmDelete(adminId)">
          <i class="pi pi-trash"></i>
          Delete
        </button>
      </div>
    </div>

    <!-- Main Content Card -->

    <div class="admin-details-grid">
      <!-- 1. Identity Section (Left) -->
      <div class="identity-section">
        <div class="avatar-section">
          <div class="avatar-circle" [style.background-color]="avatarBackground">
            {{ adminInitials }}
          </div>
          <h3 class="admin-name">
            {{ adminData?.firstName }} {{ adminData?.lastName }}
          </h3>
          <p class="admin-username">@{{ adminData?.username }}</p>
          <div class="status-wrapper">
            <span class="status-badge" [class.active]="adminData?.status === 1">
              {{ adminData?.status === 1 ? 'Active' : 'Inactive' }}
            </span>
          </div>
        </div>

        <div class="identity-meta">
          <div class="meta-item">
            <span class="label">Role</span>
            <span class="value">Super Admin</span>
          </div>
          <div class="meta-item">
            <span class="label">Member Since</span>
            <span class="value">{{ adminData?.createdOn | date : 'mediumDate' }}</span>
          </div>
        </div>
      </div>

      <!-- 2. Details Section (Right) -->
      <div class="details-section">
        <div class="section-header">
          <h3>Account Information</h3>
        </div>

        <div class="info-grid">
          <!-- Personal Info -->
          <div class="info-group">
            <h4>Personal Details</h4>
            <div class="detail-row">
              <span class="label"><i class="pi pi-user"></i> First Name</span>
              <span class="value">{{ adminData?.firstName }}</span>
            </div>
            <div class="detail-row">
              <span class="label"><i class="pi pi-user"></i> Last Name</span>
              <span class="value">{{ adminData?.lastName }}</span>
            </div>
          </div>

          <!-- Contact Info -->
          <div class="info-group">
            <h4>Contact Details</h4>
            <div class="detail-row">
              <span class="label"><i class="pi pi-envelope"></i> Email</span>
              <span class="value">{{ adminData?.email }}</span>
            </div>
            <div class="detail-row">
              <span class="label"><i class="pi pi-phone"></i> Mobile</span>
              <span class="value">{{ adminData?.mobile || 'Not provided' }}</span>
            </div>
          </div>

          <!-- Org Info -->
          <div class="info-group">
            <h4>Organisation</h4>
            <div class="detail-row">
              <span class="label"><i class="pi pi-building"></i> Name</span>
              <span class="value">{{ adminData?.organisationName }}</span>
            </div>
            <div class="detail-row">
              <span class="label"><i class="pi pi-id-card"></i> Org ID</span>
              <span class="value">#{{ adminData?.organisationId }}</span>
            </div>
          </div>

          <!-- System Info -->
          <div class="info-group">
            <h4>System</h4>
            <div class="detail-row">
              <span class="label"><i class="pi pi-clock"></i> Last Login</span>
              <span class="value">{{ adminData?.lastLogin ? (adminData?.lastLogin | date : 'medium') : 'Never'
                }}</span>
            </div>
            <div class="detail-row">
              <span class="label"><i class="pi pi-shield"></i> Default User</span>
              <span class="value">{{ adminData?.isDefault === 1 ? 'Yes' : 'No' }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<div class="confirmation-popup" *ngIf="showDeleteConfirm">
  <div class="popup-content">
    <!-- Header -->
    <div class="popup-header">
      <div class="popup-icon">
        <i class="pi pi-trash"></i>
      </div>
      <h3>Confirm Delete</h3>
    </div>

    <!-- Delete Info Section -->
    <div class="standard-delete-section">


      <p class="delete-intro">
        Are you sure you want to delete this super admin?
      </p>

      <ul class="delete-info-list">
        <li>
          <i class="pi pi-info-circle"></i>
          <span>User access will be revoked immediately</span>
        </li>
        <li>
          <i class="pi pi-info-circle"></i>
          <span>Login credentials will be invalidated</span>
        </li>
        <li>
          <i class="pi pi-info-circle"></i>
          <span>This action cannot be undone</span>
        </li>
      </ul>
    </div>

    <!-- Actions -->
    <div class="popup-actions">
      <button class="btn-cancel" (click)="cancelDelete()">
        <i class="pi pi-times"></i>
        Cancel
      </button>
      <button class="btn-confirm" (click)="proceedDelete()">
        <i class="pi pi-trash"></i>
        Delete
      </button>
    </div>
  </div>
</div>

<app-change-password-dialog [visible]="showChangePasswordDialog" (close)="onPasswordDialogClose($event)">
</app-change-password-dialog>